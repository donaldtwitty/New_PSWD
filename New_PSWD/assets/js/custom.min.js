!(function (e) {
    'use strict';
    function t() {
        var t = e(window).width();
        e('.submenu').on('click', function () {
            t < 992 &&
                (e('.submenu ul').removeClass('active'),
                e(this).find('ul').toggleClass('active'));
        });
    }
    function n(t) {
        var n = e(document).scrollTop();
        e('.nav a').each(function () {
            var t = e(this),
                o = e(t.attr('href'));
            o.position().top <= n && o.position().top + o.height() > n
                ? (e('.nav ul li a').removeClass('active'),
                  t.addClass('active'))
                : t.removeClass('active');
        });
    }
    (t(),
        (window.sr = new scrollReveal()),
        e('.menu-trigger').length &&
            e('.menu-trigger').on('click', function () {
                (e(this).toggleClass('active'),
                    e('.header-area .nav').slideToggle(200));
            }),
        e('a[href*=\\#]:not([href=\\#])').on('click', function () {
            if (
                location.pathname.replace(/^\//, '') ==
                    this.pathname.replace(/^\//, '') &&
                location.hostname == this.hostname
            ) {
                var t = e(this.hash);
                if (
                    ((t = t.length
                        ? t
                        : e('[name=' + this.hash.slice(1) + ']')),
                    t.length)
                ) {
                    var n = e(window).width();
                    return (
                        n < 991 &&
                            (e('.menu-trigger').removeClass('active'),
                            e('.header-area .nav').slideUp(200)),
                        e('html,body').animate(
                            { scrollTop: t.offset().top - 130 },
                            700
                        ),
                        !1
                    );
                }
            }
        }),
        e(document).ready(function () {
            (e(document).on('scroll', n),
                e('a[href^="#"]').on('click', function (t) {
                    (t.preventDefault(),
                        e(document).off('scroll'),
                        e('a').each(function () {
                            e(this).removeClass('active');
                        }),
                        e(this).addClass('active'));
                    var o = this.hash,
                        i = e(this.hash);
                    e('html, body')
                        .stop()
                        .animate(
                            { scrollTop: i.offset().top - 130 },
                            500,
                            'swing',
                            function () {
                                ((window.location.hash = i.selector),
                                    e(document).on('scroll', n));
                            }
                        );
                }));
        }),
        e('.home-seperator').length &&
            e(
                '.home-seperator .left-item, .home-seperator .right-item'
            ).imgfix(),
        e('.count-item').length &&
            e('.count-item strong').counterUp({ delay: 10, time: 1e3 }),
        e(window).on('load', function () {
            (e('.cover').length &&
                e('.cover').parallax({
                    imageSrc: e('.cover').data('image'),
                    zIndex: '1',
                }),
                e('#preloader').animate({ opacity: '0' }, 600, function () {
                    setTimeout(function () {
                        e('#preloader').css('visibility', 'hidden').fadeOut();
                    }, 300);
                }));
        }),
        e(window).on('resize', function () {
            t();
        }));
    const o = document.getElementById('contact-form'),
        i = document.getElementById('thankyou-popup');
    o &&
        (o.addEventListener('submit', async function (e) {
            e.preventDefault();
            const t = new FormData(o),
                n = await fetch('https://formspree.io/f/xzzrnyzr', {
                    method: 'POST',
                    body: t,
                    headers: { Accept: 'application/json' },
                });
            n.ok
                ? ((i.style.display = 'flex'), o.reset())
                : alert(
                      'There was a problem submitting the form. Please try again later.'
                  );
        }),
        (window.closePopup = function () {
            i.style.display = 'none';
        }));
    const a = document.getElementById('back-to-top');
    a &&
        (window.addEventListener('scroll', function () {
            window.pageYOffset > 300
                ? a.classList.add('show')
                : a.classList.remove('show');
        }),
        a.addEventListener('click', function () {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }));
})(window.jQuery);
