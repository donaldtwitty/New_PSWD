document.addEventListener("DOMContentLoaded",function(){"use strict";function e(){const e=window.innerWidth;document.querySelectorAll(".submenu").forEach(t=>{t.addEventListener("click",function(){e<992&&(document.querySelectorAll(".submenu ul").forEach(e=>e.classList.remove("active")),this.querySelector("ul")?.classList.toggle("active"))})})}function t(){const e=window.pageYOffset;document.querySelectorAll(".nav a").forEach(t=>{const n=document.querySelector(t.getAttribute("href"));if(n){const o=n.offsetTop-130,c=o+n.offsetHeight;e>=o&&e<c&&(document.querySelectorAll(".nav a").forEach(e=>e.classList.remove("active")),t.classList.add("active"))}})}const n=document.querySelector(".menu-trigger");n&&n.addEventListener("click",function(){this.classList.toggle("active");const e=document.querySelector(".header-area .nav");e.style.display="none"===e.style.display?"block":"none"}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(this.getAttribute("href"));t&&(window.innerWidth<991&&(n?.classList.remove("active"),document.querySelector(".header-area .nav").style.display="none"),t.scrollIntoView({behavior:"smooth",block:"start"}),document.querySelectorAll(".nav a").forEach(e=>e.classList.remove("active")),this.classList.add("active"))})}),window.addEventListener("load",function(){const e=document.getElementById("preloader");e&&(e.style.opacity="0",setTimeout(()=>{e.style.visibility="hidden",e.style.display="none"},600))});const o=document.getElementById("contact-form"),c=document.getElementById("thankyou-popup");o&&o.addEventListener("submit",async function(e){e.preventDefault();const t=new FormData(o);try{const e=await fetch("https://formspree.io/f/xzzrnyzr",{method:"POST",body:t,headers:{Accept:"application/json"}});e.ok?(c.style.display="flex",o.reset()):alert("There was a problem submitting the form. Please try again later.")}catch(e){alert("There was a problem submitting the form. Please try again later.")}}),window.closePopup=function(){c.style.display="none"};const r=document.getElementById("back-to-top");r&&(window.addEventListener("scroll",function(){window.pageYOffset>300?r.classList.add("show"):r.classList.remove("show")}),r.addEventListener("click",function(){window.scrollTo({top:0,behavior:"smooth"})}));const l=document.getElementById("dark-mode-toggle"),s=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",s),l&&(l.innerHTML="dark"===s?'<i class="fa fa-sun-o"></i>':'<i class="fa fa-moon-o"></i>',l.addEventListener("click",function(){const e=document.documentElement.getAttribute("data-theme"),t="dark"===e?"light":"dark";document.documentElement.setAttribute("data-theme",t),localStorage.setItem("theme",t),this.innerHTML="dark"===t?'<i class="fa fa-sun-o"></i>':'<i class="fa fa-moon-o"></i>'})),e(),window.addEventListener("scroll",t),window.addEventListener("resize",e)});